{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block title %}{% endblock %}
{% block content %}

<div class="card bg-white" style="margin-top:30px;">
  <div class="card-body">
      <div align="left">
          <form class="form-inline d-flex justify-content-center md-form form-sm mt-0">
          <i class="fas fa-search" aria-hidden="true"></i>
          <input class="form-control form-control-sm ml-3 w-75" type="text" placeholder="Search" style="margin-top:15px;" aria-label="Search">
        </form>
      </div>
      <form action="" method="post">
       {% csrf_token %}
    <div align="center" class="mt-2" >
    <table class="table text-white">
        <thead>
            <tr class="table-white">
                <th>Item Name</th>  <th>Problem Description</th>  <th>Date of Report</th> <th>Location</th> <th>Who raised this issue?</th> <th>Department</th> <th>Status</th> <th>Who fixed it?</th> <th>Action Taken</th> <th>Cause of Breakdown</th> <th>Engineer's Comment</th>
        </thead>
        <tbody>
            {% for ticket in object_list %}
            <tr class="table-white">
                <td>{{ ticket.item_name }}</td> <td>{{ ticket.fault_description }}</td> <td>{{ ticket.date_of_report }}</td> <td>{{ ticket.location }}</td> <td>{{ ticket.raised_by }}</td> <td>{{ ticket.department }}</td> <td>{{ ticket.status }}</td> <td>{{ ticket.fixed_by }} <td>{{ ticket.action_takem }}</td> <td>{{ ticket.cause_of_breakdown }}</td> <td>{{ ticket.engineer_comment }}</td>
            </tr>
            {% empty %}
        <ul><li>No data to display</li></ul>
            {% endfor %}
        </tbody>

    </table>
    </div>
      </form>
  </div>
</div>

{% endblock %}